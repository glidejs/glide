<link rel="stylesheet" href="../dist/css/glide.core.css">
<link rel="stylesheet" href="../dist/css/glide.theme.css">

<style>
  * {
    margin: 0;
    padding: 0;
  }

  .box {
    width: 100%;
    height: 300px;
    line-height: 300px;
    text-align: center;
    background-color: grey;
    border-left: 1px solid white;
    border-right: 1px solid white;
  }

  .box.glide__slide--active {
    background-color: silver;
  }
</style>

<div class="glide">
  <div data-glide-el="controls" class="glide__arrows">
    <button class="glide__arrow glide__arrow--prev" data-glide-dir="<">prev</button>
    <button class="glide__arrow glide__arrow--next" data-glide-dir=">">next</button>
  </div>

  <div data-glide-el="track" class="glide__track">
    <ul class="glide__slides">
      <li class="glide__slide box">0</li>
      <li class="glide__slide box">1</li>
      <li class="glide__slide box">2</li>
      <li class="glide__slide box">3</li>
      <li class="glide__slide box">4</li>
      <li class="glide__slide box">5</li>
    </ul>
  </div>

  <div class="glide__bullets" data-glide-el="controls[nav]">
    <button class="glide__bullet" data-glide-dir="=0"></button>
    <button class="glide__bullet" data-glide-dir="=1"></button>
    <button class="glide__bullet" data-glide-dir="=2"></button>
    <button class="glide__bullet" data-glide-dir="=3"></button>
    <button class="glide__bullet" data-glide-dir="=4"></button>
    <button class="glide__bullet" data-glide-dir="=5"></button>
  </div>

  <!-- <div data-glide-el="controls">
    <button data-glide-dir="<<">start</button>
    <button data-glide-dir=">>">end</button>
  </div> -->
</div>

<script src="../dist/glide.js"></script>

<script>
  var el = document.querySelector('.glide')

  var glide = new Glide(el, {
    type: 'carousel',
    perView: 3,
    startAt: 0,
    focusAt: 'center',
    peek: {
      before: 50,
      after: 50
    },
    autoplay: false,
    breakpoints: {
      '600px': {
        focusAt: 0,
        perView: 2,
        peek: {
          before: 10,
          after: 10
        },
      }
    }
  })

  glide.on(['mount.after', 'build.after'], function (glide) {
    // console.log(glide)
  })

  glide.mount({
    Nav: function (Glide, Components) {
      return {
        mount: function () {
          // console.log('Nav', { Glide, Components })
        }
      }
    }
  })

  setTimeout(function() {
    glide.reinit({
      startAt: 2,
      perView: 4, 
      focusAt: 2 
    })
  }, 1000)
</script>
